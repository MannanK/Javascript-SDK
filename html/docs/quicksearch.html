<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" Documentation Namespaces Feed Classes ClientPlayPlayerSessionSoundSpeakerStation Mixins Events Events Player.event:no-more-musicPlayer.event:play-startedPlayer.event:playback-state-did-changePlayer.event:player-availablePlayer.event:player-not-availablePlayer.event:skip-deniedPlayer.event:unexpected-errorSession#event:active-station-did-changeSession#event:current-play-did-changeSession#event:discard-next-playSession#event:next-play-availableSession#event:no-more-musicSession#event:session-availableSession#event:session-not-availableSession#event:skip-status-did-changeSession#event:unexpected-errorSound#event:elapseSound#event:finishSound#event:pauseSound#event:play Global Global Global Type Definitions speakerReadyCallback(speaker) This callback is passed a reference to the speaker that became ready. Parameters: Name Type Description speaker Speaker a ref to the ready speaker instance stateChangeCallback(newState, oldState) This callback is passed two Player.PlaybackState vaules: the new value and then the old value. Parameters: Name Type Description newState Player.PlaybackState new state of player oldState Player.PlaybackState old state of player × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-18T12:46:07-07:00 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Namespaces Feed Classes ClientPlayPlayerSessionSoundSpeakerStation Mixins Events Events Player.event:no-more-musicPlayer.event:play-startedPlayer.event:playback-state-did-changePlayer.event:player-availablePlayer.event:player-not-availablePlayer.event:skip-deniedPlayer.event:unexpected-errorSession#event:active-station-did-changeSession#event:current-play-did-changeSession#event:discard-next-playSession#event:next-play-availableSession#event:no-more-musicSession#event:session-availableSession#event:session-not-availableSession#event:skip-status-did-changeSession#event:unexpected-errorSound#event:elapseSound#event:finishSound#event:pauseSound#event:play Global Global Classes Classes Client Play Player Session Sound Speaker Station Mixins Events Namespaces Feed Events no-more-music This event announces that the server can't serve up any more music for this client in this station, so playback has stopped. play-started This event announces that the given play has begun playback playback-state-did-change This event signifies that the state of the player has changed. Listeners for this event will be given the new and the old state value. Type: stateChangeCallback player-available This event signifies that this client may play music. Instead of listening for this you could watch the state of the player to see if it becomes Player.PlaybackState.READY_TO_PLAY after being Player.PlaybackState.UNINITIALIZED player-not-available This event signifies that this client may NOT play music. Instead of listening for this you could watch the state of the player to see if it becomes Player.PlaybackState.UNAVAILABLE skip-denied This event announces that a skip request was denied. unexpected-error This event announces that we had an unexpected response from the server. This value is just passed on from the Session#event:unexpected-error event. The player class will reset itself back to the READY_TO_PLAY state and then emit this so the user can be informed. active-station-did-change This indicates that the Session#activeStation values has changed. A call to Session#requestNextPlay should be made to kick off retrieval of music from this new station. Type: Station current-play-did-change This indicates the Session#currentPlay value has changed. The new value may be null (indicating the most recently playing song completed) or non-null (indicating Session#playStarted has been called and what was previously the Session#nextPlay has now become the Session#currentPlay. Type: Play discard-next-play This indicates we've thrown away the Session#nextPlay value, and any resources related to it can be thrown away. Type: Play next-play-available This indicates Session#nextPlay has a non-null value. Type: Play no-more-music This indicates no more music is available in the current station and retrieval of music from Feed.fm has stopped. session-available This indicates a response was received from the Feed.fm servers and music is available for this client. This event is triggered after Session#setCredentials is called. Upon receipt of this event, Session#requestNextPlay should be called to kick of retrieving music from Feed.fm. An array of Station entries is passed along with this event. session-not-available This indicates a response was received from the Feed.fm servers and they say this client may not retrieve music. This event is triggered after Session#setCredentials is called. skip-status-did-change This indicates the Session#canSkip value has changed unexpected-error This indicates an unexpected error was received from the server. This can only be triggered sometime after we've triggered a Session#event:session-available event. Before this is triggered, any Session#nextPlay will be discarded and the Session#currentPlay will be set to null, which effectively resets the session. No more plays will be requested until Session#requestNextPlay is called again. elapse This is periodically triggered while the song is playing. finish The song has finished playback, is no longer usable, and should be destroyed. If an argument of 'true' is passed with the event, then the song didn't complete normally. pause The song has paused playback. play The song has started playback or resumed playback after a pause. This event is always triggered after a call to Sound#play × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-18T12:46:07-07:00 using the DocStrap template. "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" Documentation Namespaces Feed Classes ClientPlayPlayerSessionSoundSpeakerStation Mixins Events Events Player.event:no-more-musicPlayer.event:play-startedPlayer.event:playback-state-did-changePlayer.event:player-availablePlayer.event:player-not-availablePlayer.event:skip-deniedPlayer.event:unexpected-errorSession#event:active-station-did-changeSession#event:current-play-did-changeSession#event:discard-next-playSession#event:next-play-availableSession#event:no-more-musicSession#event:session-availableSession#event:session-not-availableSession#event:skip-status-did-changeSession#event:unexpected-errorSound#event:elapseSound#event:finishSound#event:pauseSound#event:play Global Global Namespaces Classes Client Play Player Session Sound Speaker Station Mixins Events Namespaces Feed Events no-more-music This event announces that the server can't serve up any more music for this client in this station, so playback has stopped. play-started This event announces that the given play has begun playback playback-state-did-change This event signifies that the state of the player has changed. Listeners for this event will be given the new and the old state value. Type: stateChangeCallback player-available This event signifies that this client may play music. Instead of listening for this you could watch the state of the player to see if it becomes Player.PlaybackState.READY_TO_PLAY after being Player.PlaybackState.UNINITIALIZED player-not-available This event signifies that this client may NOT play music. Instead of listening for this you could watch the state of the player to see if it becomes Player.PlaybackState.UNAVAILABLE skip-denied This event announces that a skip request was denied. unexpected-error This event announces that we had an unexpected response from the server. This value is just passed on from the Session#event:unexpected-error event. The player class will reset itself back to the READY_TO_PLAY state and then emit this so the user can be informed. active-station-did-change This indicates that the Session#activeStation values has changed. A call to Session#requestNextPlay should be made to kick off retrieval of music from this new station. Type: Station current-play-did-change This indicates the Session#currentPlay value has changed. The new value may be null (indicating the most recently playing song completed) or non-null (indicating Session#playStarted has been called and what was previously the Session#nextPlay has now become the Session#currentPlay. Type: Play discard-next-play This indicates we've thrown away the Session#nextPlay value, and any resources related to it can be thrown away. Type: Play next-play-available This indicates Session#nextPlay has a non-null value. Type: Play no-more-music This indicates no more music is available in the current station and retrieval of music from Feed.fm has stopped. session-available This indicates a response was received from the Feed.fm servers and music is available for this client. This event is triggered after Session#setCredentials is called. Upon receipt of this event, Session#requestNextPlay should be called to kick of retrieving music from Feed.fm. An array of Station entries is passed along with this event. session-not-available This indicates a response was received from the Feed.fm servers and they say this client may not retrieve music. This event is triggered after Session#setCredentials is called. skip-status-did-change This indicates the Session#canSkip value has changed unexpected-error This indicates an unexpected error was received from the server. This can only be triggered sometime after we've triggered a Session#event:session-available event. Before this is triggered, any Session#nextPlay will be discarded and the Session#currentPlay will be set to null, which effectively resets the session. No more plays will be requested until Session#requestNextPlay is called again. elapse This is periodically triggered while the song is playing. finish The song has finished playback, is no longer usable, and should be destroyed. If an argument of 'true' is passed with the event, then the song didn't complete normally. pause The song has paused playback. play The song has started playback or resumed playback after a pause. This event is always triggered after a call to Sound#play × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-18T12:46:07-07:00 using the DocStrap template. "},"mixins.list.html":{"id":"mixins.list.html","title":"Mixins","body":" Documentation Namespaces Feed Classes ClientPlayPlayerSessionSoundSpeakerStation Mixins Events Events Player.event:no-more-musicPlayer.event:play-startedPlayer.event:playback-state-did-changePlayer.event:player-availablePlayer.event:player-not-availablePlayer.event:skip-deniedPlayer.event:unexpected-errorSession#event:active-station-did-changeSession#event:current-play-did-changeSession#event:discard-next-playSession#event:next-play-availableSession#event:no-more-musicSession#event:session-availableSession#event:session-not-availableSession#event:skip-status-did-changeSession#event:unexpected-errorSound#event:elapseSound#event:finishSound#event:pauseSound#event:play Global Global Mixins Classes Client Play Player Session Sound Speaker Station Mixins Events Namespaces Feed Events no-more-music This event announces that the server can't serve up any more music for this client in this station, so playback has stopped. play-started This event announces that the given play has begun playback playback-state-did-change This event signifies that the state of the player has changed. Listeners for this event will be given the new and the old state value. Type: stateChangeCallback player-available This event signifies that this client may play music. Instead of listening for this you could watch the state of the player to see if it becomes Player.PlaybackState.READY_TO_PLAY after being Player.PlaybackState.UNINITIALIZED player-not-available This event signifies that this client may NOT play music. Instead of listening for this you could watch the state of the player to see if it becomes Player.PlaybackState.UNAVAILABLE skip-denied This event announces that a skip request was denied. unexpected-error This event announces that we had an unexpected response from the server. This value is just passed on from the Session#event:unexpected-error event. The player class will reset itself back to the READY_TO_PLAY state and then emit this so the user can be informed. active-station-did-change This indicates that the Session#activeStation values has changed. A call to Session#requestNextPlay should be made to kick off retrieval of music from this new station. Type: Station current-play-did-change This indicates the Session#currentPlay value has changed. The new value may be null (indicating the most recently playing song completed) or non-null (indicating Session#playStarted has been called and what was previously the Session#nextPlay has now become the Session#currentPlay. Type: Play discard-next-play This indicates we've thrown away the Session#nextPlay value, and any resources related to it can be thrown away. Type: Play next-play-available This indicates Session#nextPlay has a non-null value. Type: Play no-more-music This indicates no more music is available in the current station and retrieval of music from Feed.fm has stopped. session-available This indicates a response was received from the Feed.fm servers and music is available for this client. This event is triggered after Session#setCredentials is called. Upon receipt of this event, Session#requestNextPlay should be called to kick of retrieving music from Feed.fm. An array of Station entries is passed along with this event. session-not-available This indicates a response was received from the Feed.fm servers and they say this client may not retrieve music. This event is triggered after Session#setCredentials is called. skip-status-did-change This indicates the Session#canSkip value has changed unexpected-error This indicates an unexpected error was received from the server. This can only be triggered sometime after we've triggered a Session#event:session-available event. Before this is triggered, any Session#nextPlay will be discarded and the Session#currentPlay will be set to null, which effectively resets the session. No more plays will be requested until Session#requestNextPlay is called again. elapse This is periodically triggered while the song is playing. finish The song has finished playback, is no longer usable, and should be destroyed. If an argument of 'true' is passed with the event, then the song didn't complete normally. pause The song has paused playback. play The song has started playback or resumed playback after a pause. This event is always triggered after a call to Sound#play × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-18T12:46:07-07:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Namespaces Feed Classes ClientPlayPlayerSessionSoundSpeakerStation Mixins Events Events Player.event:no-more-musicPlayer.event:play-startedPlayer.event:playback-state-did-changePlayer.event:player-availablePlayer.event:player-not-availablePlayer.event:skip-deniedPlayer.event:unexpected-errorSession#event:active-station-did-changeSession#event:current-play-did-changeSession#event:discard-next-playSession#event:next-play-availableSession#event:no-more-musicSession#event:session-availableSession#event:session-not-availableSession#event:skip-status-did-changeSession#event:unexpected-errorSound#event:elapseSound#event:finishSound#event:pauseSound#event:play Global Global Feed Media SDK for Javascript Quickstart Guide IntroductionThe Feed Media SDK for Javascript allows you to play DMCA compliant radio within your browser. You can read more about the Feed Media API at http://feed.fm/. The primary object used to communicate with the Feed API is the Feed.Session class, which handles authentication and interfaces with the Feed REST endpoints. You probably won't use that, however. You'll use an instance of the Feed.Player class, which hides the complexity of requesting new songs from the server via Feed.Session, and just exports a simple API for starting/stopping music playback and getting updates on the status. The Feed.PlayerView is an example class that makes use fo the Feed.Player to visualize a simple HTML player. This javascript library requires a browser that can do CORS (Firefox 3.5+, Safari 4+, Chrome 3+, IE 10+). Before you begin, you should have an account at feed.fm where you've created a set of authentication credentials (token and secret) and set up at least one placement If you have not already done so, please go to http://feed.fm/. 1 Minute Guide to Creating a Player and Streaming Music0) Pull up this jsbin page so you don't have to type anything. 1) Include the 'dist/feed.js' source in your HTML - either directly from your website or from feed.fm: &lt;script type='application/javascript' src='http://feed.fm/js/latest/feed.js'&gt;&lt;/script&gt;If you've already got jQuery in your page, you can use 'js/latest/feed-without-jquery.js' and the player will use the global window.jQuery object. 2) Enter the minimal HTML to display the player: &lt;div id=&quot;player-view-div&quot;&gt; &lt;div class='status'&gt;&lt;/div&gt; &lt;button class=&quot;play-button&quot;&gt;play&lt;/button&gt; &lt;button class=&quot;pause-button&quot;&gt;pause&lt;/button&gt; &lt;button class=&quot;skip-button&quot;&gt;skip&lt;/button&gt; &lt;/div&gt;3) Create an instance of the player and the player view: var player = new Feed.Player('your-token', 'your-secret', { secure: true }); var playerView = new Feed.PlayerView('player-view-div', player); player.tune(); // or player.play() to auto-play immediatelyThe user can now start/stop music via the simple player interface. Working with Feed.PlayerViewFeed.PlayerView should be given the ID of an element in the page and a reference to a Feed.Player instance, and it will update child elements based on player events and listen to user clicks to tell the Feed.Player to pause/play/skip. Child elements are identified by their class name and are used as described below: status - This is updated to display the song currently being played, or the name of the placement that we're streaming from. The 'formatPlay(play)' method can be overridden to change how the current song is formatted, and the 'formatPlacement(placement)' method can be overriden to change how the placement is formatted. Also, if there are errors or alerts that need to be displayed, those are placed here and an 'alert' class is added to this element. After displaying an alert, the status is automatically reverted back to the song or placement text after a few seconds. elapsed - As a song is playing, the text of this element is updated with the elapsed playback time in the format '0:00'. duration - When a song starts playing, the text of this element is set to the total duration of the song in the format '0:00'. progress - While a song is playing the 'width' of this element is changed from 0% to 100%. play-button - When clicked, this will start playback. This button may be disabled (for instance, when a song is already playing). The button is enabled by adding a 'button-enabled' class. The button is disabled by adding a 'button-disabled' class and setting the 'disabled' attribute to true. pause-button - When clicked, this will pause playback. This button may be disabled (for instance, when a song is already paused). The button is enabled by adding a 'button-enabled' class. The button is disabled by adding a 'button-disabled' class and setting the 'disabled' attribute to true. skip-button - When clicked, this will request a song skip. This button may be disabled (for instance, when a song may not be skipped). The button is enabled by adding a 'button-enabled' class. The button is disabled by adding a 'button-disabled' class and setting the 'disabled' attribute to true. The sample jsbin has a function to display in the javascript console all the events that the player emits. When creating your own player skin, most everything can be stylized without having to edit javascript. For most projects, you should be able to fully customize the player using only CSS rules that take into account the 'button-enabled' and 'button-disabled' classes, along with the state of the player that is attached as a class to the top level HTML element of the player. Working with Feed.PlayerThe Feed.Player class retrieves music from the Feed.fm servers and sends them to the browser for playback. The class requires a token and secret in order to create an instance of the player: var player = new Feed.Player('token', 'secret', { secure: true });The final argument is optional and lets you specify some extra parameters to for the player (fully documented here). The player should be started with a call to tune() or play(). tune() will cause the player to load up information about the current placement, and play() will cause the player to tune() and then immediately start playing music. Music can be paused with a call to pause(), or skipped with a call to skip(), or resumed/started with a call to play(). The player emits named events that you can attach to in order to follow the state of the player. To follow an event, use the on() method, and to stop following an event use the off() method. Event handling comes from the BackBone.js project. Some example usage: // simple callback player.on('play-completed', function() { console.log('a play completed!'); }); // third argument sets 'this' for callback function player.on('play-started', handler.someFunction, handler); // passing 'all' as the event will cause all events to be sent to this callback player.on('all', function(event) { console.log('received: ', event); }); // turn off all handlers for this event player.off('play-completed'); // turn off a specific handler for this event player.off('play-started', handler.someFunction);The player emits the following events: not-in-us - Feed.fm doesn't think the client is located in the US, and so it will refuse to serve up music. When this event is emitted, you can assume the player will no longer function. placement - This event provides information about the placement that music is being pulled from. This is called before any music starts, and also after a call to change the current placement via setPlacementId(). This includes information about the placement that was retrieved from the feed.fm servers. At this point, only the name and id of the placement are returned: player.on('placement', function(placement) { console.log('the placement id is ' + placement.id + ' and name ' + placement.name); }); stations - This event provides the list of stations associated with the placement we are pulling music from. It is triggered before any music starts, and also after a call to change the current placement via setPlacementId(). ```js player.on('stations', function(stations) { console.log('there are ' + stations.length + ' stations. The first is named ' + stations[0].name); }); play-started - This is sent when playback of a specific song has started. Details of the song that has just started are passed as an argument and look like the following: { &quot;id&quot;:&quot;132459570&quot;, &quot;station&quot;: { &quot;id&quot;:&quot;727&quot;, &quot;name&quot;:&quot;Pretty Lights Music&quot; }, &quot;audio_file&quot;: { &quot;id&quot;:&quot;8707&quot;, &quot;duration_in_seconds&quot;:349, &quot;track&quot;: { &quot;id&quot;:&quot;15226435&quot;, &quot;title&quot;:&quot;Starve the Ego, Feed the Soul&quot; }, &quot;release&quot;: { &quot;id&quot;:&quot;1550367&quot;, &quot;title&quot;:&quot;Drink the Sea&quot; }, &quot;artist&quot;: { &quot;id&quot;:&quot;1176632&quot;, &quot;name&quot;:&quot;The Glitch Mob&quot; }, &quot;codec&quot;:&quot;mp3&quot;, &quot;url&quot;:&quot;http://stor02.fuzzcdn.com/path/to/mp3&quot; } } play-paused - This is sent when playback of the current song is paused. play-resumed - This is sent when playback of the current song is resumed after pausing. play-completed - This is sent when playback of the current song is complete or is aborted (due to a skip, for instance). plays-exhausted - If there are no more songs that a user can listen to, this event is triggered. skip-denied - If a call was made to skip() to skip the current song, but the server denied it (due to skip restrctions), then this event will be emitted. In addition to responding to events, the current state of the player can be queried with getCurrentState(). That call will return one of the following strings: playing - the player is currently playing a song paused - the player is paused idle - the player has no song actively playing or paused Because mobile clients require audio playback to begin only during a user-initiated event, the player should only be initialized with tune() on a mobile device, and play() should be called in a click event handler. Go DeeperThe Feed.Player class is built on top of a Feed.Session class that manages authentication and low level communication with the feed server. In the normal state of events, you shouldn't need to work at this low of a level. If you do, feel free to contact eric@feed.fm for details. The Feed.Player class makes use of the exceptional SoundManager2 library. Details can be found in the speaker.js file, which encapsulates our usage of SM2. × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-18T12:46:07-07:00 using the DocStrap template. "},"Client.html":{"id":"Client.html","title":"Class: Client","body":" Documentation Namespaces Feed Classes ClientPlayPlayerSessionSoundSpeakerStation Mixins Events Events Player.event:no-more-musicPlayer.event:play-startedPlayer.event:playback-state-did-changePlayer.event:player-availablePlayer.event:player-not-availablePlayer.event:skip-deniedPlayer.event:unexpected-errorSession#event:active-station-did-changeSession#event:current-play-did-changeSession#event:discard-next-playSession#event:next-play-availableSession#event:no-more-musicSession#event:session-availableSession#event:session-not-availableSession#event:skip-status-did-changeSession#event:unexpected-errorSound#event:elapseSound#event:finishSound#event:pauseSound#event:play Global Global Class: Client Client new Client() The Client class keeps track of a client's UUID value. Methods &lt;static&gt; cookiesEnabled() Returns true if the client will let us set cookies. Returns: true if cookies are available Type boolean &lt;static&gt; deleteClientUUID() Delete persisted UUID &lt;static&gt; setClientUUID() Persist UUID × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-18T12:46:07-07:00 using the DocStrap template. "},"Events.html":{"id":"Events.html","title":"Mixin: Events","body":" Documentation Namespaces Feed Classes ClientPlayPlayerSessionSoundSpeakerStation Mixins Events Events Player.event:no-more-musicPlayer.event:play-startedPlayer.event:playback-state-did-changePlayer.event:player-availablePlayer.event:player-not-availablePlayer.event:skip-deniedPlayer.event:unexpected-errorSession#event:active-station-did-changeSession#event:current-play-did-changeSession#event:discard-next-playSession#event:next-play-availableSession#event:no-more-musicSession#event:session-availableSession#event:session-not-availableSession#event:skip-status-did-changeSession#event:unexpected-errorSound#event:elapseSound#event:finishSound#event:pauseSound#event:play Global Global Mixin: Events Events Events mixin from Backbone Backbone.js 1.0.0 (c) 2010-2013 Jeremy Ashkenas, DocumentCloud Inc. Backbone may be freely distributed under the MIT license. For all details and documentation: http:*backbonejs.org A module that can be mixed in to any object in order to provide it with custom events. You may bind with on or remove with off callback functions to an event; trigger`-ing an event fires all callbacks in succession. var object = {}; _.extend(object, Backbone.Events); object.on('expand', function(){ alert('expanded'); }); object.trigger('expand'); Methods &lt;static&gt; off(name, callback, context) Remove one or many callbacks. If context is null, removes all callbacks with that function. If callback is null, removes all callbacks for the event. If name is null, removes all bound callbacks for all events. Parameters: Name Type Argument Description name string event name or null callback function callback to remove or null context object &lt;optional&gt; optional call context to match &lt;static&gt; on(name, callback, context) bind function to event. Parameters: Name Type Argument Description name string name of the event. using &quot;all&quot; will bind the callback to all events fired callback function function to call on event firing context object &lt;optional&gt; call context for callback &lt;static&gt; once(name, callback, context) Bind an event to only be triggered a single time. After the first time the callback is invoked, it will be removed. Parameters: Name Type Argument Description name string name of the event. &quot;all&quot; will bind the callback to all events fired callback function function to call on event firing. context object &lt;optional&gt; optional call context for callback &lt;static&gt; stopListening(obj, name, callback) Tell this object to stop listening to either specific events ... or to every object it's currently listening to. Parameters: Name Type Description obj object name string callback function &lt;static&gt; trigger(name, args) Trigger one or many events, firing all bound callbacks. Callbacks are passed the same arguments as trigger is, apart from the event name (unless you're listening on &quot;all&quot;, which will cause your callback to receive the true name of the event as the first argument). Parameters: Name Type Argument Description name string name of event to trigger args * &lt;repeatable&gt; arguments to pass to event handlers × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-18T12:46:07-07:00 using the DocStrap template. "},"Feed.html":{"id":"Feed.html","title":"Namespace: Feed","body":" Documentation Namespaces Feed Classes ClientPlayPlayerSessionSoundSpeakerStation Mixins Events Events Player.event:no-more-musicPlayer.event:play-startedPlayer.event:playback-state-did-changePlayer.event:player-availablePlayer.event:player-not-availablePlayer.event:skip-deniedPlayer.event:unexpected-errorSession#event:active-station-did-changeSession#event:current-play-did-changeSession#event:discard-next-playSession#event:next-play-availableSession#event:no-more-musicSession#event:session-availableSession#event:session-not-availableSession#event:skip-status-did-changeSession#event:unexpected-errorSound#event:elapseSound#event:finishSound#event:pauseSound#event:play Global Global Namespace: Feed Feed Feed is the namespace through which you can access the various classes. Properties: Name Type Description Session Session ref to Session class Speaker Speaker ref to Speaker class × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-18T12:46:07-07:00 using the DocStrap template. "},"Play.html":{"id":"Play.html","title":"Class: Play","body":" Documentation Namespaces Feed Classes ClientPlayPlayerSessionSoundSpeakerStation Mixins Events Events Player.event:no-more-musicPlayer.event:play-startedPlayer.event:playback-state-did-changePlayer.event:player-availablePlayer.event:player-not-availablePlayer.event:skip-deniedPlayer.event:unexpected-errorSession#event:active-station-did-changeSession#event:current-play-did-changeSession#event:discard-next-playSession#event:next-play-availableSession#event:no-more-musicSession#event:session-availableSession#event:session-not-availableSession#event:skip-status-did-changeSession#event:unexpected-errorSound#event:elapseSound#event:finishSound#event:pauseSound#event:play Global Global Class: Play Play This class holds the play data returned from the feed servers. A typical play object looks like: var play = { id: '123', station: { id: '456', name: 'foobar' }, audio_file: [[ audio_file instance ]], liked: true } new Play() × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-18T12:46:07-07:00 using the DocStrap template. "},"Player.html":{"id":"Player.html","title":"Class: Player","body":" Documentation Namespaces Feed Classes ClientPlayPlayerSessionSoundSpeakerStation Mixins Events Events Player.event:no-more-musicPlayer.event:play-startedPlayer.event:playback-state-did-changePlayer.event:player-availablePlayer.event:player-not-availablePlayer.event:skip-deniedPlayer.event:unexpected-errorSession#event:active-station-did-changeSession#event:current-play-did-changeSession#event:discard-next-playSession#event:next-play-availableSession#event:no-more-musicSession#event:session-availableSession#event:session-not-availableSession#event:skip-status-did-changeSession#event:unexpected-errorSound#event:elapseSound#event:finishSound#event:pauseSound#event:play Global Global Class: Player Player This class exports a high level API for simple music playback. It uses the Session class to repeatedly ask for music from the Feed.fm servers and send them to Speaker objects After creating an instance of this class, a call should be made to Player#setCredentials to ask the Feed.fm servers if music playback is granted. new Player(options) Parameters: Name Type Argument Description options object &lt;optional&gt; configuration options. These also include all the options in Speaker. Properties Name Type Argument Default Description debug boolean &lt;optional&gt; false if true, debug to console reportElapseIntervalInMS number &lt;optional&gt; how often to report elapsed playback, in milliseconds Mixes In: Events Members &lt;static, readonly&gt; PlaybackState :number Possible playback state values Type: number Properties: Name Type Default Description UNINITIALIZED number 0 UNAVAILABLE number 1 WAITING_FOR_ITEM number 2 READY_TO_PLAY number 3 PLAYING number 4 PAUSED number 5 STALLED number 6 REQUESTING_SKIP number 7 Methods destroy() Cancel any pending tasks, stop and destroy any pending or playing songs. This object is unusable after this call. getState() Returns: the state of the player Type Player.PlaybackState getStations() Return a list of stations the server wants us to know about. These can be used for Player#setStation calls, and if they have 'audio_file' properties, you can retrieve a list of songs available in the station. Returns: array of stations Type Array.&lt;Station&gt; off(name, callback, context) Remove one or many callbacks. If context is null, removes all callbacks with that function. If callback is null, removes all callbacks for the event. If name is null, removes all bound callbacks for all events. Parameters: Name Type Argument Description name string event name or null callback function callback to remove or null context object &lt;optional&gt; optional call context to match Mixes In: Events.off on(name, callback, context) bind function to event. Parameters: Name Type Argument Description name string name of the event. using &quot;all&quot; will bind the callback to all events fired callback function function to call on event firing context object &lt;optional&gt; call context for callback Mixes In: Events.on once(name, callback, context) Bind an event to only be triggered a single time. After the first time the callback is invoked, it will be removed. Parameters: Name Type Argument Description name string name of the event. &quot;all&quot; will bind the callback to all events fired callback function function to call on event firing. context object &lt;optional&gt; optional call context for callback Mixes In: Events.once pause() Pause music playback. play(song) Start or resume music playback Parameters: Name Type Argument Description song AudioFile &lt;optional&gt; optional specific song to play. prepareToPlay() Start loading music in the background so that a call to Player#play immediately starts music. setCredentials(token, secret) Assign credentials to the player. This kicks off communication with Feed.fm to see if this client is cleared to play music. If and when the client is cleared play music and the audio system is initialized, the Player#getState will change to READY_TO_PLAY. Otherwise the state will become UNAVAILABLE. Also, a Player#event:player-available or Player#event:player-not-available event will be triggered. Note that there is no time limit on this completing, so it could potentially take a long time for the state change. Parameters: Name Type Description token string token value provided by Feed.fm secret string secret value provided by Feed.fm setStation() Stop playback, if any, and switch to the passed-in station. A call to Player#prepareToPlay or Player#play should be made to resume pulling music for playback. skip() Try to skip the current song. This will cause the current song to complete (and trigger a Player#event:play-completed) and advance to the next song, or it will trigger a Player#event:skip-denied event and the current song will continue playing. stopListening(obj, name, callback) Tell this object to stop listening to either specific events ... or to every object it's currently listening to. Parameters: Name Type Description obj object name string callback function Mixes In: Events.stopListening trigger(name, args) Trigger one or many events, firing all bound callbacks. Callbacks are passed the same arguments as trigger is, apart from the event name (unless you're listening on &quot;all&quot;, which will cause your callback to receive the true name of the event as the first argument). Parameters: Name Type Argument Description name string name of event to trigger args * &lt;repeatable&gt; arguments to pass to event handlers Mixes In: Events.trigger Events no-more-music This event announces that the server can't serve up any more music for this client in this station, so playback has stopped. play-started This event announces that the given play has begun playback playback-state-did-change This event signifies that the state of the player has changed. Listeners for this event will be given the new and the old state value. Type: stateChangeCallback player-available This event signifies that this client may play music. Instead of listening for this you could watch the state of the player to see if it becomes Player.PlaybackState.READY_TO_PLAY after being Player.PlaybackState.UNINITIALIZED player-not-available This event signifies that this client may NOT play music. Instead of listening for this you could watch the state of the player to see if it becomes Player.PlaybackState.UNAVAILABLE skip-denied This event announces that a skip request was denied. unexpected-error This event announces that we had an unexpected response from the server. This value is just passed on from the Session#event:unexpected-error event. The player class will reset itself back to the READY_TO_PLAY state and then emit this so the user can be informed. × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-18T12:46:07-07:00 using the DocStrap template. "},"Session.html":{"id":"Session.html","title":"Class: Session","body":" Documentation Namespaces Feed Classes ClientPlayPlayerSessionSoundSpeakerStation Mixins Events Events Player.event:no-more-musicPlayer.event:play-startedPlayer.event:playback-state-did-changePlayer.event:player-availablePlayer.event:player-not-availablePlayer.event:skip-deniedPlayer.event:unexpected-errorSession#event:active-station-did-changeSession#event:current-play-did-changeSession#event:discard-next-playSession#event:next-play-availableSession#event:no-more-musicSession#event:session-availableSession#event:session-not-availableSession#event:skip-status-did-changeSession#event:unexpected-errorSound#event:elapseSound#event:finishSound#event:pauseSound#event:play Global Global Class: Session Session This class talks to the Feed.fm REST API to pull audio items for playback. It holds a Session#currentPlay that represents the song that has started playback for the user, and the Session#nextPlay, which will be the next song to play when the currentPlay is completed. A call to Session#setCredentials kicks off a request to the Feed.fm servers to see if the client can play music. Either a Session#event:session-available or Session#event:session-not-available event will be triggered to indicate if the user is given a session to request music with. If Session#event:session-available is triggered, then the client can call Session#requestNextPlay to kick off retrieval of music for playback. The general usage of this class is: var session = new Feed.Session(); session.on('session-available', function() { // music is available for the user. // session.getStations() will return list of available stations. // use session.setStation() to pick station, if we don't want default session.requestNextPlay(); // start retrieving songs }); session.on('session-not-available', function() { // no music is available for the user for some reason }); session.on('next-play-available', function(nextPlay) { // if session.currentPlay is null, then try to start playback of // nextPlay and then call session.playStarted(); // if session.currentPlay is not null, then we could start // loading the audio data for nextPlay in anticipation of // playing this song next }); session.on('current-play-did-change', function(currentPlay) { // when currentPlay is not null, this means we just started // playback of currentPlay // when currentPlay is null, it means we just completed playback // of a song. If nextPlay is not null, we should try to begin // playback of it and call session.rejectPlay() (if the song couldn't // be retrieved or started) or session.playStarted() followed by // session.requestSkip() or session.playCompleted(). // Iff nextPlay is null then we're still waiting for the next // song and can expect a next-play-available event soon. }); session.on('no-music-available', function() { // no more music is available for the current station. }); session.setCredentials('token', 'secret'); // kicks off request to server for sessionIt is best to think of this class as constantly trying to keep a song in the queue for playback. When you advance a song in it from next to current (by calling Session#playStarted), the class tries to get another song queued up for you automatically. This class can also be used to request specific audio files by calling Session#requestPlay to request a specific song. new Session(options) Parameters: Name Type Description options object options for the session Properties Name Type Argument Default Description audioFormats string &lt;optional&gt; mp3 string with comma separated list of preferred media formats: mp3 or aac maxBitrate string &lt;optional&gt; 128 max bitrate (in kbps) of requested audio files Mixes In: Events Members &lt;readonly&gt; activeStation :object reference to the station we're pulling songs from Type: object &lt;readonly&gt; available :boolean when true, music is available; when false, no music is available; when null, we don't know if music is available yet Type: boolean &lt;readonly&gt; canSkip :boolean if false, the current song may not be skippedj Type: boolean &lt;readonly&gt; currentPlay :object song that is currently being played back to user Type: object &lt;readonly&gt; nextPlay :object song that is queued to be played next. This will become the Session#currentPlay when Session#playStarted is called. Type: object &lt;readonly&gt; stations :Array.&lt;object&gt; array of station objects that represent available stations we can tune to Type: Array.&lt;object&gt; Methods destroy() Cancel any outstanding tasks and destroy any resources we are using. This object is unusable after this call. off(name, callback, context) Remove one or many callbacks. If context is null, removes all callbacks with that function. If callback is null, removes all callbacks for the event. If name is null, removes all bound callbacks for all events. Parameters: Name Type Argument Description name string event name or null callback function callback to remove or null context object &lt;optional&gt; optional call context to match Mixes In: Events.off on(name, callback, context) bind function to event. Parameters: Name Type Argument Description name string name of the event. using &quot;all&quot; will bind the callback to all events fired callback function function to call on event firing context object &lt;optional&gt; call context for callback Mixes In: Events.on once(name, callback, context) Bind an event to only be triggered a single time. After the first time the callback is invoked, it will be removed. Parameters: Name Type Argument Description name string name of the event. &quot;all&quot; will bind the callback to all events fired callback function function to call on event firing. context object &lt;optional&gt; optional call context for callback Mixes In: Events.once playCompleted(dueToError) Inform the server that the current song has completed, set Session#currentPlay to null, and ensure that a request for the next song is in progress or has completed. Parameters: Name Type Argument Description dueToError boolean &lt;optional&gt; if true, then playback completed due to an error playStarted() After playback of the Session#nextPlay has begun, call this method to promote the play to Session#currentPlay, null out the value of Session#nextPlay, tell the server we have started playback, and start requesting the next value for Session#nextPlay. rejectPlay() If we are unable to start playback of Session#nextPlay, then call this (with no arguments) in place of Session#playStarted to report the song as being unplayable. This will kick off a request for a new Session#nextPlay value (and associated Session#event:next-play-available event). requestDislike() Mark the currently playing song as disliked. requestLike() Mark the currently playing songs as liked. requestNextPlay() Request a new play if we aren't already getting one or have one already. When a new play is retrieved, a Session#event:next-play-available event is triggered. Note that if a Session#nextPlay is already not null and this method is called, nothing will happen. requestPlay(audioFile) A call to this method causes any existing Session#nextPlay value to be discarded and Session#currentPlay to be set to null. Then a request is made to the server for a play with the provided audio file and things resume just as if a call to Session#requestNextPlay were made. If the user is not allowed to play the requested file, an Session#event:unexpected-error will be triggered and music retrieval will not progress. Parameters: Name Type Description audioFile AudioFile the audio file you wish to play requestSkip() Ask the server if we can skip the current song. Call the optional success or failure functions depending on the response. If the server allows the skip, then a virtual Session#playCompleted call is made you can expect a Session#event:current-play-did-change event that sets Session#currentPlay to null. If the server disallows the skip (despite Session#canSkip being true) a Session#event:skip-status-did-change event is triggered. requestUnlike() Mark the currently playing song as neither liked nor disliked. setCredentials(token, secret) Assign public and private tokens and kick off request to ask server for a session, leading ultimately to Session#event:session-available or Session#event:session-not-available being triggered. Parameters: Name Type Description token string token provided by feed.fm secret string secret provided by feed.fm setStation(station) Set the current station from which we pull music and trigger an Session#event:active-station-did-change event. This kills any background requests for new plays, throws away any existing Session#nextPlay value, emits a Session#event:discard-next-play event, and sets Session#currentPlay to null. You'll need to call Session#requestNextPlay to start pulling in new music after making this call or receiving the Session#event:active-station-did-change event. Parameters: Name Type Description station object a station (available from Session#stations) stopListening(obj, name, callback) Tell this object to stop listening to either specific events ... or to every object it's currently listening to. Parameters: Name Type Description obj object name string callback function Mixes In: Events.stopListening suspend() Save all the state variables for this instance into a simple object so that we might recreate the state in the future (or another window, for example). Returns: a simple object to be passed to Session#unsuspend at a later time. Type object trigger(name, args) Trigger one or many events, firing all bound callbacks. Callbacks are passed the same arguments as trigger is, apart from the event name (unless you're listening on &quot;all&quot;, which will cause your callback to receive the true name of the event as the first argument). Parameters: Name Type Argument Description name string name of event to trigger args * &lt;repeatable&gt; arguments to pass to event handlers Mixes In: Events.trigger unsuspend(state) Restore the state of this session from a previously suspended station. Parameters: Name Type Description state object value returned from Session#suspend updatePlay(elapsedTime) Inform the server that we have elapsed playback. This may be called multiple times during playback. Parameters: Name Type Description elapsedTime number total number of seconds of the current song that have played since the song started. Events active-station-did-change This indicates that the Session#activeStation values has changed. A call to Session#requestNextPlay should be made to kick off retrieval of music from this new station. Type: Station current-play-did-change This indicates the Session#currentPlay value has changed. The new value may be null (indicating the most recently playing song completed) or non-null (indicating Session#playStarted has been called and what was previously the Session#nextPlay has now become the Session#currentPlay. Type: Play discard-next-play This indicates we've thrown away the Session#nextPlay value, and any resources related to it can be thrown away. Type: Play next-play-available This indicates Session#nextPlay has a non-null value. Type: Play no-more-music This indicates no more music is available in the current station and retrieval of music from Feed.fm has stopped. session-available This indicates a response was received from the Feed.fm servers and music is available for this client. This event is triggered after Session#setCredentials is called. Upon receipt of this event, Session#requestNextPlay should be called to kick of retrieving music from Feed.fm. An array of Station entries is passed along with this event. session-not-available This indicates a response was received from the Feed.fm servers and they say this client may not retrieve music. This event is triggered after Session#setCredentials is called. skip-status-did-change This indicates the Session#canSkip value has changed unexpected-error This indicates an unexpected error was received from the server. This can only be triggered sometime after we've triggered a Session#event:session-available event. Before this is triggered, any Session#nextPlay will be discarded and the Session#currentPlay will be set to null, which effectively resets the session. No more plays will be requested until Session#requestNextPlay is called again. × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-18T12:46:07-07:00 using the DocStrap template. "},"Sound.html":{"id":"Sound.html","title":"Class: Sound","body":" Documentation Namespaces Feed Classes ClientPlayPlayerSessionSoundSpeakerStation Mixins Events Events Player.event:no-more-musicPlayer.event:play-startedPlayer.event:playback-state-did-changePlayer.event:player-availablePlayer.event:player-not-availablePlayer.event:skip-deniedPlayer.event:unexpected-errorSession#event:active-station-did-changeSession#event:current-play-did-changeSession#event:discard-next-playSession#event:next-play-availableSession#event:no-more-musicSession#event:session-availableSession#event:session-not-availableSession#event:skip-status-did-changeSession#event:unexpected-errorSound#event:elapseSound#event:finishSound#event:pauseSound#event:play Global Global Class: Sound Sound This class represents an audio object we want to play. It emits a set of events in a specific order: ( Sound#event:play -&gt; ( Sound#event:pause | Sound#event:play | Sound#event:elapse )* -&gt; )? Sound#event:finish ) Note, particularly, that the Sound#event:play and Sound#event:finish events will always be called, even if the file is missing or bad, unless the 'destroy' method is called first. Use the Speaker#create method to create a new sound, rather than using this constructor. new Sound(options) Parameters: Name Type Argument Description options object &lt;optional&gt; configuration options Properties Name Type Argument Description startPosition number &lt;optional&gt; time offset to start playback from play function &lt;optional&gt; method to receive Sound#event:play events pause function &lt;optional&gt; method to receive Sound#event:pause events finish function &lt;optional&gt; method to receive Sound#event:finish events elapse function &lt;optional&gt; method to receive Sound#event:elapse events Mixes In: Events Methods destroy() Stop playing the given sound clip, unload it, and disable any attached event handlers. Note that if this is called while the song is playing, it will stop the song and no 'finish' event or any other events will be emitted. duration() Returns: Duration of the audio clip, in milliseconds. Note that this might change while we are loading the song off(name, callback, context) Remove one or many callbacks. If context is null, removes all callbacks with that function. If callback is null, removes all callbacks for the event. If name is null, removes all bound callbacks for all events. Parameters: Name Type Argument Description name string event name or null callback function callback to remove or null context object &lt;optional&gt; optional call context to match Mixes In: Events.off on(name, callback, context) bind function to event. Parameters: Name Type Argument Description name string name of the event. using &quot;all&quot; will bind the callback to all events fired callback function function to call on event firing context object &lt;optional&gt; call context for callback Mixes In: Events.on once(name, callback, context) Bind an event to only be triggered a single time. After the first time the callback is invoked, it will be removed. Parameters: Name Type Argument Description name string name of the event. &quot;all&quot; will bind the callback to all events fired callback function function to call on event firing. context object &lt;optional&gt; optional call context for callback Mixes In: Events.once pause() Pause playback of the current song play() Start playback. If the sound object was created via Speaker#create with a startPosition option, then the first call to play will start audio at that playback position. This method should only be called once, to start playback. Use Sound#resume to resume playback. position() Returns: elapsed number of milliseconds of playback resume() Resume playback of the current song stopListening(obj, name, callback) Tell this object to stop listening to either specific events ... or to every object it's currently listening to. Parameters: Name Type Description obj object name string callback function Mixes In: Events.stopListening trigger(name, args) Trigger one or many events, firing all bound callbacks. Callbacks are passed the same arguments as trigger is, apart from the event name (unless you're listening on &quot;all&quot;, which will cause your callback to receive the true name of the event as the first argument). Parameters: Name Type Argument Description name string name of event to trigger args * &lt;repeatable&gt; arguments to pass to event handlers Mixes In: Events.trigger Events elapse This is periodically triggered while the song is playing. finish The song has finished playback, is no longer usable, and should be destroyed. If an argument of 'true' is passed with the event, then the song didn't complete normally. pause The song has paused playback. play The song has started playback or resumed playback after a pause. This event is always triggered after a call to Sound#play × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-18T12:46:08-07:00 using the DocStrap template. "},"Speaker.html":{"id":"Speaker.html","title":"Class: Speaker","body":" Documentation Namespaces Feed Classes ClientPlayPlayerSessionSoundSpeakerStation Mixins Events Events Player.event:no-more-musicPlayer.event:play-startedPlayer.event:playback-state-did-changePlayer.event:player-availablePlayer.event:player-not-availablePlayer.event:skip-deniedPlayer.event:unexpected-errorSession#event:active-station-did-changeSession#event:current-play-did-changeSession#event:discard-next-playSession#event:next-play-availableSession#event:no-more-musicSession#event:session-availableSession#event:session-not-availableSession#event:skip-status-did-changeSession#event:unexpected-errorSound#event:elapseSound#event:finishSound#event:pauseSound#event:play Global Global Class: Speaker Speaker The speaker object encapsulates and simplifies the SoundManager2 code to just give us what is needed for radio music playback. This code uses the wonderful SoundManager2 api and falls back to the soundmanager2 flash plugin if HTML5 audio isn't available. new Speaker(options) Create a new Speaker object. This class is intended to be a singleton, so don't use this constructor - instead use the Speaker.getShared method. Parameters: Name Type Description options object configuration options Properties Name Type Argument Default Description swfBase string &lt;optional&gt; ./ URL that points to a directory containing soundmanager2.swf file for flash fallback. preferFlash boolean &lt;optional&gt; false if true, try to use the flash player for audio rather than HTML5 debug boolean &lt;optional&gt; false if true, emit debugging to the console silence string &lt;optional&gt; options.swfBase + '/silence.mp3' URL to an mp3 with no sound, for initializing mobile clients Members &lt;readonly&gt; preferred :string comma separated string of formats the audio system prefers to play. Type: string Methods &lt;static&gt; getShared(options) Return a promise for a shared speaker instance. Parameters: Name Type Description options object options sent to the Speaker constructor. See Speaker. Returns: a promise that yields a reference to the initialized shared speaker. Type Promise create(url, optionsAndEvents) Create and return a new Sound object Parameters: Name Type Description url string url to audio file optionsAndEvents object options for sound object Properties Name Type Description startPosition number time offset (in milliseconds) that the sound should begin playback at when we begin playback play function function that will be called on Sound#event:play events pause function function that will be called on Sound#event:pause events finish function function that will be called on Sound#event:finish events Returns: new sound object Type Sound initializeForMobile() Mobile clients can only start using speaker when handling an onClick event. This call should be made at that time to get sound initialized in case we have to wait for details of what to play from the server. setVolume(volume) Set or get the volume. This adjusts any sound objects already created as well as future sound objects. Parameters: Name Type Description volume number New volume level (0 = silent, 100 = full volume) × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-18T12:46:08-07:00 using the DocStrap template. "},"Station.html":{"id":"Station.html","title":"Class: Station","body":" Documentation Namespaces Feed Classes ClientPlayPlayerSessionSoundSpeakerStation Mixins Events Events Player.event:no-more-musicPlayer.event:play-startedPlayer.event:playback-state-did-changePlayer.event:player-availablePlayer.event:player-not-availablePlayer.event:skip-deniedPlayer.event:unexpected-errorSession#event:active-station-did-changeSession#event:current-play-did-changeSession#event:discard-next-playSession#event:next-play-availableSession#event:no-more-musicSession#event:session-availableSession#event:session-not-availableSession#event:skip-status-did-changeSession#event:unexpected-errorSound#event:elapseSound#event:finishSound#event:pauseSound#event:play Global Global Class: Station Station Class to wrap a 'station' representation returned from a REST call. A typical value looks like: var station = { id: '123', name: 'name of station', on_demand: false, options: { // arbitrary json }, audio_files: [ // audio_file entries ] }; new Station() × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-18T12:46:08-07:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
